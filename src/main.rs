
mod gameloop;
mod utils;
mod rendererutils;
mod spath;
mod ditty;

use gameloop::GameLoop;
use utils::FatalAction;

fn main() {

    let path = "M 818.125 165.7168 C 744.33563 165.7168 675.53125 240.50398 675.53125 321.27344 C 675.53125 374.12258 711.42889 411.51564 761.78516 411.51562 C 796.18696 411.51562 819.12104 399.05044 843.05273 368.13867 C 843.05273 379.10736 843.0531 380.10514 844.54883 384.09375 C 849.03602 400.54679 865.48857 412.01367 885.43164 412.01367 C 910.36048 412.01367 932.79629 399.05064 957.22656 371.62891 C 970.68814 356.17303 981.65701 340.71654 990.13281 326.25781 L 970.68945 313.79297 C 952.2421 342.71043 927.31175 369.63477 918.83594 369.63477 C 915.3459 369.63477 911.85742 365.64682 911.85742 361.6582 C 911.85742 358.16816 911.85642 358.16715 916.8418 338.72266 L 965.70312 173.19531 L 887.42578 173.19531 L 880.44531 197.12695 C 868.47947 176.18673 847.54104 165.7168 818.125 165.7168 z M 834.07812 193.13867 C 852.52549 193.13867 864.99023 208.09636 864.99023 229.53516 C 864.99023 254.464 854.02176 296.34303 839.06445 328.25195 C 824.60572 360.16087 806.65739 376.61523 787.21289 376.61523 C 768.76554 376.61523 756.79883 361.15825 756.79883 337.22656 C 756.79883 310.80198 766.7698 270.91656 781.22852 241.00195 C 796.68441 208.59445 813.63648 193.13867 834.07812 193.13867 z M 1134.9668 241.66406 C 1105.5507 241.66406 1084.6123 252.134 1072.6465 273.07422 L 1065.666 249.14258 L 987.38867 249.14258 L 1036.25 414.66992 C 1041.2354 434.11441 1041.2344 434.11543 1041.2344 437.60547 C 1041.2344 441.59409 1037.746 445.58203 1034.2559 445.58203 C 1025.7801 445.58203 1000.8497 418.65769 982.40234 389.74023 L 962.95898 402.20508 C 971.43478 416.66381 982.40363 432.12029 995.86523 447.57617 C 1020.2955 474.9979 1042.7314 487.96094 1067.6602 487.96094 C 1087.6033 487.96094 1104.0558 476.49406 1108.543 460.04102 C 1110.0387 456.05241 1110.0391 455.05463 1110.0391 444.08594 C 1133.9707 474.99771 1156.9048 487.46289 1191.3066 487.46289 C 1241.6629 487.4629 1277.5605 450.06984 1277.5605 397.2207 C 1277.5605 316.45124 1208.7562 241.66406 1134.9668 241.66406 z M 1119.0137 269.08594 C 1139.4553 269.08594 1156.4074 284.54172 1171.8633 316.94922 C 1186.322 346.86383 1196.293 386.74925 1196.293 413.17383 C 1196.293 437.10552 1184.3262 452.5625 1165.8789 452.5625 C 1146.4344 452.5625 1128.4861 436.10814 1114.0273 404.19922 C 1099.07 372.2903 1088.1016 330.41126 1088.1016 305.48242 C 1088.1016 284.04362 1100.5663 269.08594 1119.0137 269.08594 z ";

    let ans = spath::read_path(path);

    let ditty = ditty::PathDitty::new(ans);

    let mainloop = GameLoop::new().or_die("create Game Loop");
    mainloop.run(ditty).or_die("run Game Loop");
}
